<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>What&#39;s new in C# 6 | Pavan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Getter-only auto-propertiesAuto-properties can now be declared without a setter.
12345public class Customer&amp;#123;    public string First &amp;#123; get; &amp;#125; = &quot;Jane&quot;;    public string Last &amp;#123; get;">
<meta property="og:type" content="article">
<meta property="og:title" content="What's new in C# 6">
<meta property="og:url" content="http://blog.pavanc.com/2016/03/21/What-s-new-in-C-6/index.html">
<meta property="og:site_name" content="Pavan">
<meta property="og:description" content="Getter-only auto-propertiesAuto-properties can now be declared without a setter.
12345public class Customer&amp;#123;    public string First &amp;#123; get; &amp;#125; = &quot;Jane&quot;;    public string Last &amp;#123; get;">
<meta property="og:updated_time" content="2016-03-21T15:42:03.136Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="What's new in C# 6">
<meta name="twitter:description" content="Getter-only auto-propertiesAuto-properties can now be declared without a setter.
12345public class Customer&amp;#123;    public string First &amp;#123; get; &amp;#125; = &quot;Jane&quot;;    public string Last &amp;#123; get;">
  
    <link rel="alternate" href="/atom.xml" title="Pavan" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-75399506-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Pavan</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Software Developer</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.pavanc.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-What-s-new-in-C-6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/21/What-s-new-in-C-6/" class="article-date">
  <time datetime="2016-03-21T14:53:21.000Z" itemprop="datePublished">2016-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      What&#39;s new in C# 6
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Getter-only-auto-properties"><a href="#Getter-only-auto-properties" class="headerlink" title="Getter-only auto-properties"></a>Getter-only auto-properties</h2><p>Auto-properties can now be declared without a setter.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class Customer</span><br><span class="line">&#123;</span><br><span class="line">    public string First &#123; get; &#125; = <span class="string">"Jane"</span>;</span><br><span class="line">    public string Last &#123; get; &#125; = <span class="string">"Doe"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Expression-bodies-on-method-like-members"><a href="#Expression-bodies-on-method-like-members" class="headerlink" title="Expression bodies on method-like members"></a>Expression bodies on method-like members</h2><p>Methods as well as user-defined operators and conversions can be given an expression body by use of the “lambda arrow”:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public Point Move(int dx, int dy) =&gt; new Point(x + dx, y + dy);</span><br><span class="line">public static Complex operator +(Complex a, Complex b) =&gt; a.Add(b);</span><br><span class="line">public static implicit operator string(Person p) =&gt; p.First + <span class="string">" "</span> +</span><br></pre></td></tr></table></figure>
<h2 id="Using-static"><a href="#Using-static" class="headerlink" title="Using static"></a>Using static</h2><p>The feature allows all the accessible static members of a type to be imported, making them available without qualification in subsequent code:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">using static System.Console;</span><br><span class="line">using static System.Math;</span><br><span class="line">using static System.DayOfWeek;</span><br><span class="line">class Program</span><br><span class="line">&#123;</span><br><span class="line">    static void <span class="function"><span class="title">Main</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line">        WriteLine(Sqrt(3*3 + 4*4));</span><br><span class="line">        WriteLine(Friday - Monday);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Null-conditional-operators"><a href="#Null-conditional-operators" class="headerlink" title="Null-conditional operators"></a>Null-conditional operators</h2><p>Sometimes code tends to drown a bit in null-checking. The null-conditional operator lets you access members and elements only when the receiver is not-null, providing a null result otherwise:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int? length = customers?.Length; // null <span class="keyword">if</span> customers is null</span><br><span class="line">Customer first = customers?[0];  // null <span class="keyword">if</span> customers is null</span><br></pre></td></tr></table></figure>
<h2 id="String-interpolation"><a href="#String-interpolation" class="headerlink" title="String interpolation"></a>String interpolation</h2><p>String.Format and its cousins are very versatile and useful, but their use is a little clunky and error prone. Particularly unfortunate is the use of {0} etc. placeholders in the format string, which must line up with arguments supplied separately:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var s = String.Format(<span class="string">"&#123;0&#125; is &#123;1&#125; year&#123;&#123;s&#125;&#125; old"</span>, p.Name, p.Age);</span><br></pre></td></tr></table></figure>
<h2 id="nameof-expressions"><a href="#nameof-expressions" class="headerlink" title="nameof expressions"></a>nameof expressions</h2><p>Occasionally you need to provide a string that names some program element: when throwing anArgumentNullException you want to name the guilty argument; when raising a PropertyChangedevent you want to name the property that changed, etc.<br>Using string literals for this purpose is simple, but error prone. You may spell it wrong, or a refactoring may leave it stale. nameof expressions are essentially a fancy kind of string literal where the compiler checks that you have something of the given name, and Visual Studio knows what it refers to, so navigation and refactoring will work:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (x == null) throw new ArgumentNullException(nameof(x));</span><br></pre></td></tr></table></figure>
<h2 id="Index-initializers"><a href="#Index-initializers" class="headerlink" title="Index initializers"></a>Index initializers</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Object and collection initializers are useful <span class="keyword">for</span> declaratively initializing fields and properties of objects, or giving a collection an initial <span class="built_in">set</span> of elements. Initializing dictionaries and other objects with indexers is less elegant. We are adding a new syntax to object initializers allowing you to <span class="built_in">set</span> values to keys through any indexer that the new object has:</span><br><span class="line">var numbers = new Dictionary&lt;int, string&gt; &#123;</span><br><span class="line">    [7] = <span class="string">"seven"</span>,</span><br><span class="line">    [9] = <span class="string">"nine"</span>,</span><br><span class="line">    [13] = <span class="string">"thirteen"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="Exception-filters"><a href="#Exception-filters" class="headerlink" title="Exception filters"></a>Exception filters</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">VB has them. F<span class="comment"># has them. Now C# has them too. This is what they look like:</span></span><br><span class="line">try &#123; … &#125;</span><br><span class="line">catch (MyException e) when (myfilter(e))</span><br><span class="line">&#123;</span><br><span class="line">    …</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Await-in-catch-and-finally-blocks"><a href="#Await-in-catch-and-finally-blocks" class="headerlink" title="Await in catch and finally blocks"></a>Await in catch and finally blocks</h2><p>In C# 5 we don’t allow the await keyword in catch and finally blocks, because we’d somehow convinced ourselves that it wasn’t possible to implement. Now we’ve figured it out, so apparently it wasn’t impossible after all.<br>This has actually been a significant limitation, and people have had to employ unsightly workarounds to compensate. That is no longer necessary:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Resource res = null;</span><br><span class="line">try</span><br><span class="line">&#123;</span><br><span class="line">    res = await Resource.OpenAsync(…);       // You could <span class="keyword">do</span> this.</span><br><span class="line">    …</span><br><span class="line">&#125;</span><br><span class="line">catch(ResourceException e)</span><br><span class="line">&#123;</span><br><span class="line">    await Resource.LogAsync(res, e);         // Now you can <span class="keyword">do</span> this …</span><br><span class="line">&#125;</span><br><span class="line">finally</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (res != null) await res.CloseAsync(); // … and this.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.pavanc.com/2016/03/21/What-s-new-in-C-6/" data-id="cim26seyh0000kgdko6kadqgx" class="article-share-link">Share</a>
      
        <a href="http://blog.pavanc.com/2016/03/21/What-s-new-in-C-6/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li></ul>

    </footer>

    <div class="subscribe article-footer">
            <!-- Begin MailChimp Signup Form -->
      <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
      <style type="text/css">
      	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
      	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
      	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
      </style>
      <div id="mc_embed_signup">
      <form action="//pavanc.us13.list-manage.com/subscribe/post?u=b14a67fe29d45affb0660b3e5&amp;id=afe2c18c32" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
          <div id="mc_embed_signup_scroll">
      	<h2>Subscribe to our mailing list</h2>
      <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
      <div class="mc-field-group">
      	<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
      </label>
      	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
      </div>
      <div class="mc-field-group">
      	<label for="mce-FNAME">First Name </label>
      	<input type="text" value="" name="FNAME" class="" id="mce-FNAME">
      </div>
      <div class="mc-field-group">
      	<label for="mce-LNAME">Last Name </label>
      	<input type="text" value="" name="LNAME" class="" id="mce-LNAME">
      </div>
      	<div id="mce-responses" class="clear">
      		<div class="response" id="mce-error-response" style="display:none"></div>
      		<div class="response" id="mce-success-response" style="display:none"></div>
      	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_b14a67fe29d45affb0660b3e5_afe2c18c32" tabindex="-1" value=""></div>
          <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
          </div>
      </form>
      </div>
      <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
      <!--End mc_embed_signup-->
    </div>

    
    <section id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </section>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2016/03/21/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 10px;">C#</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/03/21/What-s-new-in-C-6/">What&#39;s new in C# 6</a>
          </li>
        
          <li>
            <a href="/2016/03/21/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Pavan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'blogpavanc';
  
  var disqus_url = 'http://blog.pavanc.com/2016/03/21/What-s-new-in-C-6/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>